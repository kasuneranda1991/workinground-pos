function getData(t){$.ajax({url:"?page="+t,type:"get",datatype:"html"}).done(function(e){$("#history").empty().html(e),location.hash=t}).fail(function(e,t,a){alert("No response from server")})}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(window).on("hashchange",function(){if(window.location.hash){var e=window.location.hash.replace("#","");if(e==Number.NaN||e<=0)return!1;getData(e)}}),$(document).ready(function(){$(document).on("click",".pagination a",function(e){e.preventDefault(),$("li").removeClass("active"),$(this).parent("li").addClass("active");$(this).attr("href");getData($(this).attr("href").split("page=")[1])})}),$(document).ready(function(){$("#printform").on("click",function(e){var t=$(this),a=t.attr("action");$.ajax({type:"POST",url:a,data:t.serialize(),success:function(e){}}),e.preventDefault()})}),$(document).ready(function(){$("#displayCount").text($("#count").val())}),$(document).ready(function(){$("#user_sender_id").empty(),$("#discount").hide(),$("#save_price").hide(),$("#payment_duration").on("change",function(){var e=$(this).val(),t=$("#monthly_starter").val();if("3M"==e){var a=t/100*90*3,o=t/100*10*3;$("#discount").hide(),$("#save_price").show(),$("#duration").val(e),$("#total_price").text(a),$("#save").text(o),$("#total_amount").val(a)}else if("6M"==e){$("#discount").hide(),$("#save_price").show(),$("#duration").val(e);a=t/100*85*6,o=t/100*15*6;$("#total_price").text(a),$("#save").text(o),$("#total_amount").val(a)}else if("1Y"==e){$("#discount").hide(),$("#save_price").show(),$("#duration").val(e);a=t/100*80*12,o=t/100*20*12;$("#total_price").text(a),$("#save").text(o),$("#total_amount").val(a)}else if("5Y"==e){$("#discount").hide(),$("#save_price").show(),$("#duration").val(e);a=t/100*75*60,o=t/100*25*60;$("#total_price").text(a),$("#save").text(o),$("#total_amount").val(a)}else"1M"==e&&($("#save_price").hide(),$("#discount").show(),$("#duration").val(e),$("#discount").text("Your Total Price For One Month Rs."+t),$("#total_amount").val(t))}),$("#discount").hide(),$("#save_price").hide(),$("#advance_payment_duration").on("change",function(){var e=$(this).val(),t=$("#advance_monthly_starter").val();if("3M"==e){var a=t/100*90*3,o=t/100*10*3;$("#advance_discount").hide(),$("#advance_save_price").show(),$("#advance_duration").val(e),$("#advance_total_price").text(a),$("#advance_save").text(o),$("#advance_total_amount").val(a)}else if("6M"==e){$("#advance_discount").hide(),$("#advance_save_price").show(),$("#advance_duration").val(e);a=t/100*85*6,o=t/100*15*6;$("#advance_total_price").text(a),$("#advance_save").text(o),$("#advance_total_amount").val(a)}else if("1Y"==e){$("#advance_discount").hide(),$("#advance_save_price").show(),$("#advance_duration").val(e);a=t/100*80*12,o=t/100*20*12;$("#advance_total_price").text(a),$("#advance_save").text(o),$("#advance_total_amount").val(a)}else if("5Y"==e){$("#advance_discount").hide(),$("#advance_save_price").show(),$("#advance_duration").val(e);a=t/100*75*60,o=t/100*25*60;$("#advance_total_price").text(a),$("#advance_save").text(o),$("#advance_total_amount").val(a)}else"1M"==e&&($("#advance_save_price").hide(),$("#advance_discount").show(),$("#advance_duration").val(e),$("#advance_discount").text("Your Total Price For One Month Rs."+t),$("#advance_total_amount").val(t))}),$("#expired_payment_duration").on("change",function(){var e=$(this).val(),t=$("#expired_monthly_starter").val();if("3M"==e){var a=t/100*90*3,o=t/100*10*3;$("#expired_discount").hide(),$("#expired_save_price").show(),$("#expired_duration").val(e),$("#expired_total_price").text(a),$("#expired_save").text(o),$("#expired_total_amount").val(a)}else if("6M"==e){$("#expired_discount").hide(),$("#expired_save_price").show(),$("#expired_duration").val(e);a=t/100*85*6,o=t/100*15*6;$("#expired_total_price").text(a),$("#expired_save").text(o),$("#expired_total_amount").val(a)}else if("1Y"==e){$("#expired_discount").hide(),$("#expired_save_price").show(),$("#expired_duration").val(e);a=t/100*80*12,o=t/100*20*12;$("#expired_total_price").text(a),$("#expired_save").text(o),$("#expired_total_amount").val(a)}else if("5Y"==e){$("#expired_discount").hide(),$("#expired_save_price").show(),$("#expired_duration").val(e);a=t/100*75*60,o=t/100*25*60;$("#expired_total_price").text(a),$("#expired_save").text(o),$("#expired_total_amount").val(a)}else"1M"==e&&($("#expired_save_price").hide(),$("#expired_discount").show(),$("#expired_duration").val(e),$("#expired_discount").text("Your Total Price For One Month Rs."+t),$("#expired_total_amount").val(t))}),$("#economy_payment_duration").on("change",function(){var e=$(this).val(),t=$("#economy_monthly_starter").val();if("3M"==e){var a=t/100*90*3,o=t/100*10*3;$("#economy_discount").hide(),$("#economy_save_price").show(),$("#economy_duration").val(e),$("#economy_total_price").text(a),$("#economy_save").text(o),$("#economy_total_amount").val(a)}else if("6M"==e){$("#economy_discount").hide(),$("#economy_save_price").show(),$("#economy_duration").val(e);a=t/100*85*6,o=t/100*15*6;$("#economy_total_price").text(a),$("#economy_save").text(o),$("#economy_total_amount").val(a)}else if("1Y"==e){$("#economy_discount").hide(),$("#economy_save_price").show(),$("#economy_duration").val(e);a=t/100*80*12,o=t/100*20*12;$("#economy_total_price").text(a),$("#economy_save").text(o),$("#economy_total_amount").val(a)}else if("5Y"==e){$("#economy_discount").hide(),$("#economy_save_price").show(),$("#economy_duration").val(e);a=t/100*75*60,o=t/100*25*60;$("#economy_total_price").text(a),$("#economy_save").text(o),$("#economy_total_amount").val(a)}else"1M"==e&&($("#economy_save_price").hide(),$("#economy_discount").show(),$("#economy_duration").val(e),$("#economy_discount").text("Your Total Price For One Month Rs."+t),$("#economy_total_amount").val(t))}),"demo"!=$("#payment_plan").val()&&($("#my_save_price").hide(),$("#payment_duration_selector").on("change",function(){$("#my_save_price").show();var e=$("#monthly_rate").val(),t=$("#payment_duration_selector").val();if("1M"==t){$("#user_sender_id").empty();var a=e/100*100*1,o=e/100*0*1;$("#my_discount").hide(),$("#my_save_price").show(),$("#my_duration").val(t),$("#my_total_price").text(a),$("#my_save").text(o),$("#my_total_amount").val(a),$("#monthly_rate").val(e)}else if("3M"==t){$("#user_sender_id").empty();a=e/100*90*3,o=e/100*10*3;$("#my_discount").hide(),$("#my_save_price").show(),$("#my_duration").val(t),$("#my_total_price").text(a),$("#my_save").text(o),$("#my_total_amount").val(a),$("#monthly_rate").val(e)}else if("6M"==t){$("#user_sender_id").empty();a=e/100*85*6,o=e/100*15*6;$("#my_discount").hide(),$("#my_save_price").show(),$("#my_duration").val(t),$("#my_total_price").text(a),$("#my_save").text(o),$("#my_total_amount").val(a),$("#monthly_rate").val(e)}else if("1Y"==t){$("#user_sender_id").empty();a=e/100*80*12,o=e/100*20*12;$("#my_discount").hide(),$("#my_save_price").show(),$("#my_duration").val(t),$("#my_total_price").text(a),$("#my_save").text(o),$("#my_total_amount").val(a),$("#monthly_rate").val(e)}else if("5Y"==t){$("#user_sender_id").empty();a=e/100*75*60,o=e/100*25*60;$("#my_discount").hide(),$("#my_save_price").show(),$("#my_duration").val(t),$("#my_total_price").text(a),$("#my_save").text(o),$("#my_total_amount").val(a),$("#monthly_rate").val(e)}else if("sender_id"==t){a=2500,o=0;$("#user_sender_id").append('<div class="input-group mb-3"><div class="input-group-prepend"><span class="input-group-text">Your Sender ID</span></div><input type="text" class="form-control" maxlength="11" placeholder="Ex:-Shop Name"  name="request_sender_id"></div></div>'),$("#my_discount").hide(),$("#my_save_price").show(),$("#my_duration").val(t),$("#my_total_price").text(a),$("#my_save").text(o),$("#my_total_amount").val(a),$("#monthly_rate").val(e)}}))}),$("#base_url").val()==$("#stockURL").val()&&$(document).ready(function(){$("#directionS").prop("disabled","disabled"),$("#rowS").prop("disabled","disabled"),$("#columnS").prop("disabled","disabled");var n=$("#product").DataTable({processing:!0,serverSide:!0,deferRender:!0,responsive:!0,ajax:"/CurrentSockProductDataShouldBeEncriptedToRemoveUnauthorizedAccess",columns:[{data:"id",name:"id"},{data:"location_code",name:"code"},{data:"product_name",name:"product_name"},{data:"current_qty",name:"qty_remain"},{data:"selling_price",name:"unit_price"},{data:"avarage_sale",name:"avarage_sale"},{data:"updated_at",name:"updated_at"},{data:"action",name:"action"}],dom:"lBfrtip",buttons:[{extend:"copyHtml5",className:"mb-2 btn btn-sm btn-outline-dark mr-1",init:function(e,t,a){$(t).removeClass("dt-button buttons-copy buttons-html5")}},{extend:"excelHtml5",className:"mb-2 btn btn-sm btn-outline-dark mr-1",init:function(e,t,a){$(t).removeClass("dt-button buttons-copy buttons-html5")}},{extend:"pdfHtml5",className:"mb-2 btn btn-sm btn-outline-dark mr-1",init:function(e,t,a){$(t).removeClass("dt-button buttons-copy buttons-html5")}},{extend:"print",className:"mb-2 btn btn-sm btn-outline-dark mr-1",init:function(e,t,a){$(t).removeClass("dt-button buttons-copy buttons-html5")}},{extend:"colvis",className:"mb-2 btn btn-sm btn-outline-dark mr-1",init:function(e,t,a){$(t).removeClass("dt-button buttons-copy buttons-html5")}},{text:"add New Item",className:"mb-2 btn btn-sm btn-outline-dark mr-1",action:function(){$("#add-item-model").modal("show"),$("#directione").prop("disabled","disabled"),$("#rowe").prop("disabled","disabled"),$("#columne").prop("disabled","disabled")},init:function(e,t,a){$(t).removeClass("dt-button buttons-copy buttons-html5")}}],select:{style:"os",blurable:!0}});$("#product tbody").on("click","button.updateItemModel",function(){var e=n.row($(this).parents("tr")).data();$("#updateItemname").text(e.product_name),$("#update_product_id").val(e.id)}),$("#product tbody").on("click","button.editItemModel",function(){var e=n.row($(this).parents("tr")).data(),t=e.direction,a=e.row,o=e.column;$("#edit_item_form").trigger("reset"),e.direction&&($("#editlocationService").prop("checked",!0),$("#directionS").prop("disabled",!1),$("#rowS").prop("disabled",!1),$("#columnS").prop("disabled",!1)),$("#editItemName").text(e.product_name),$("#Edit_product_name").val(e.productName),$("#item_type").val(e.type_name),$("#count_type").val(e.count_type),$("#company_name").val(e.company_name),$("#selling_price").val(e.selling_price),$("#alert").val(e.stock_remainder),$("#productid").val(e.id),$("#product_type_id").val(e.type_id),$("#currentLocationCode").text(e.location_code),$("#directionS option[value="+t+"]").attr("selected","selected"),$("#rowS option[value="+a+"]").attr("selected","selected"),$("#columnS option[value="+o+"]").attr("selected","selected"),$("#directionS").val(t),$("#rowS").val(a),$("#columnS").val(o)}),$("#product tbody").on("click","button.discardItemModel",function(){var e=n.row($(this).parents("tr")).data();$("#discard_product_id").val(e.id)}),$("#product tbody").on("click","button.deleteItemModel",function(){var e=n.row($(this).parents("tr")).data();$("#deleteItem1").text(e.product_name),$("#product_id").val(e.id),$("#product_quantity").val(e.current_qty)}),$("#addlocationService").click(function(){1==$("#addlocationService").prop("checked")?($("#directione").prop("disabled",!1),$("#rowe").prop("disabled",!1),$("#columne").prop("disabled",!1)):($("#directione").prop("disabled","disabled"),$("#rowe").prop("disabled","disabled"),$("#columne").prop("disabled","disabled"))}),$("#editlocationService").click(function(){1==$("#editlocationService").prop("checked")?($("#directionS").prop("disabled",!1),$("#rowS").prop("disabled",!1),$("#columnS").prop("disabled",!1)):($("#directionS").prop("disabled","disabled"),$("#rowS").prop("disabled","disabled"),$("#columnS").prop("disabled","disabled"))}),$("#productaddbtn").click(function(e){$("#add-item-model").modal("hide");var t=$("#addNewItemForm"),a=t.attr("action");$.ajax({type:"POST",url:a,data:t.serialize(),success:function(e){if(1==e.success)$("form").trigger("reset"),$.notify({wrapper:"body",message:e.data,type:"success",position:3,dir:"ltr",autoClose:!0,duration:1e4}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/definite_flo9zz.ogg").play();else if(1==e.error){$.notify({wrapper:"body",message:e.data,type:"error",position:3,dir:"ltr",autoClose:!0,duration:15e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/error_jydv0i.ogg").play()}}}),e.preventDefault(),$("#product").DataTable().ajax.reload(null,!1)}),$("#deleteItemButton").click(function(e){$("#deleteItem").modal("hide");var t=$("#deleteitemform"),a=t.attr("action");$.ajax({type:"POST",url:a,data:t.serialize(),success:function(e){if(1==e.success)$("form").trigger("reset"),$.notify({wrapper:"body",message:e.data,type:"success",position:3,dir:"ltr",autoClose:!0,duration:4e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/definite_flo9zz.ogg").play();else if(1==e.error){$.notify({wrapper:"body",message:e.data,type:"error",position:3,dir:"ltr",autoClose:!0,duration:15e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/error_jydv0i.ogg").play()}}}),e.preventDefault(),$("#product").DataTable().ajax.reload(null,!1)}),$("#discardItemButton").click(function(e){$("#discardItem").modal("hide");var t=$("#discardform"),a=t.attr("action");$.ajax({type:"POST",url:a,data:t.serialize(),success:function(e){if(1==e.success)$("form").trigger("reset"),$.notify({wrapper:"body",message:e.data,type:"success",position:3,dir:"ltr",autoClose:!0,duration:4e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/definite_flo9zz.ogg").play();else if(1==e.error){$.notify({wrapper:"body",message:e.data,type:"error",position:3,dir:"ltr",autoClose:!0,duration:15e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/error_jydv0i.ogg").play()}}}),e.preventDefault(),$("#product").DataTable().ajax.reload(null,!1),$("#discardItemTable").DataTable().ajax.reload(null,!1)}),$("#updateBtn").click(function(e){$("#updateItem").modal("hide");var t=$("#updateform"),a=t.attr("action");$.ajax({type:"POST",url:a,data:t.serialize(),success:function(e){if(1==e.success)$("form").trigger("reset"),$.notify({wrapper:"body",message:e.data,type:"success",position:3,dir:"ltr",autoClose:!0,duration:1e4}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/definite_flo9zz.ogg").play();else if(1==e.error){$.notify({wrapper:"body",message:e.data,type:"error",position:3,dir:"ltr",autoClose:!0,duration:15e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/error_jydv0i.ogg").play()}}}),e.preventDefault(),$("#product").DataTable().ajax.reload(null,!1)}),$("#editProductBtn").click(function(e){$("#editItem").modal("hide");var t=$("#edit_item_form"),a=t.attr("action");$.ajax({type:"POST",url:a,data:t.serialize(),success:function(e){if(1==e.success)$("form").trigger("reset"),$.notify({wrapper:"body",message:e.data,type:"success",position:3,dir:"ltr",autoClose:!0,duration:3e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/definite_flo9zz.ogg").play();else if(1==e.error){$.notify({wrapper:"body",message:e.data,type:"error",position:3,dir:"ltr",autoClose:!0,duration:3e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/error_jydv0i.ogg").play()}}}),e.preventDefault(),$("#product").DataTable().ajax.reload(null,!1)})}),$("#base_url").val()==$("#stockURL").val()&&$(document).ready(function(){var n=$("#discardItemTable").DataTable({processing:!0,serverSide:!0,deferRender:!0,responsive:!0,ajax:"/DiscardItemsDataShouldBeEncriptedToRemoveUnauthorizedAccess",columns:[{data:"product_name",name:"product_name"},{data:"reason",name:"reason"},{data:"quantity",name:"quantity"},{data:"batch_no",name:"batch_no"},{data:"created_at",name:"created_at"},{data:"action",name:"action"}],dom:"lBfrtip",buttons:[{extend:"copyHtml5",className:"mb-2 btn btn-sm btn-outline-dark mr-1",init:function(e,t,a){$(t).removeClass("dt-button buttons-copy buttons-html5")}},{extend:"excelHtml5",className:"mb-2 btn btn-sm btn-outline-dark mr-1",init:function(e,t,a){$(t).removeClass("dt-button buttons-copy buttons-html5")}},{extend:"pdfHtml5",className:"mb-2 btn btn-sm btn-outline-dark mr-1",init:function(e,t,a){$(t).removeClass("dt-button buttons-copy buttons-html5")}},{extend:"print",className:"mb-2 btn btn-sm btn-outline-dark mr-1",init:function(e,t,a){$(t).removeClass("dt-button buttons-copy buttons-html5")}},{extend:"colvis",className:"mb-2 btn btn-sm btn-outline-dark mr-1",init:function(e,t,a){$(t).removeClass("dt-button buttons-copy buttons-html5")}}],select:{style:"os",blurable:!0}});$("#discardItemTable tbody").on("click","button.approveItem",function(e){var t=n.row($(this).parents("tr")).data();$("#approve_id").val(t.id);var a=$("#discardItemApproveform"),o=a.attr("action");$.ajax({type:"POST",url:o,data:a.serialize(),success:function(e){if(1==e.success)$("form").trigger("reset"),$.notify({wrapper:"body",message:e.data,type:"success",position:3,dir:"ltr",autoClose:!0,duration:4e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/definite_flo9zz.ogg").play();else if(1==e.error){$.notify({wrapper:"body",message:e.data,type:"error",position:3,dir:"ltr",autoClose:!0,duration:15e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/error_jydv0i.ogg").play()}}}),e.preventDefault(),n.ajax.reload(null,!1)}),$("#discardItemTable tbody").on("click","button.disApproveItem",function(e){var t=n.row($(this).parents("tr")).data();$("#approve_id").val(t.id),$("#disapprove_state").val(1);var a=$("#discardItemApproveform"),o=a.attr("action");$.ajax({type:"POST",url:o,data:a.serialize(),success:function(e){if(1==e.success)$("form").trigger("reset"),$.notify({wrapper:"body",message:e.data,type:"success",position:3,dir:"ltr",autoClose:!0,duration:4e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/definite_flo9zz.ogg").play();else if(1==e.error){$.notify({wrapper:"body",message:e.data,type:"error",position:3,dir:"ltr",autoClose:!0,duration:15e3}),new Audio("https://res.cloudinary.com/workinground/video/upload/v1556016673/sound/error_jydv0i.ogg").play()}}}),e.preventDefault(),n.ajax.reload(null,!1)})});